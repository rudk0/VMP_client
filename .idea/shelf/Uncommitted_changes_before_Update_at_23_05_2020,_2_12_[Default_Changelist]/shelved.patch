Index: src/components/RO-form/RO.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, {useEffect, useState} from \"react\";\nimport {cn} from '@bem-react/classname'\nimport './RO.scss';\nimport {Link} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {aoActions} from \"../../redux/ao/aoSlice\";\nimport {aoCitySelector, aoFormatsSelector, aoSegmentSelector, aoTypesSelector} from \"../../redux/ao/aoSelectors\";\nimport {Sel as Select} from '../common/Select/Select'\nimport {\n  floorSelect,\n  offerSelect,\n  pocketSelect,\n  reservedSelect,\n  RoInitialState,\n  tableAOHeader\n} from \"../../const/AOConsts\";\nimport {Button} from \"../common/Button/Button\";\nimport {error, notify} from \"../../helpers/toaster-helper\";\nimport {AOApi} from \"../../api/AOAPI\";\nimport {AoTable} from \"../AO-table/AoTable\";\n\nconst roCN = cn('ro');\nexport const RO = props => {\n  const [roState, setRoState] = useState({filters: RoInitialState, data: [], requested: false});\n  const {changeState, isKp} = props;\n  const handleRoForm = (e) => {\n    e && e.preventDefault();\n    AOApi.getList(roState.filters)\n      .then((data) => {\n        notify(\"List formed successfully\");\n        setRoState({\n          ...roState,\n          data: data.data, requested: true\n        });\n      }).catch((err) => {\n      error(\"Something went wrong\" + err);\n    })\n  }\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(aoActions.getSegments())\n    dispatch(aoActions.getTypes());\n    dispatch(aoActions.getCities());\n    dispatch(aoActions.getFormats());\n\n  }, [dispatch]);\n  useEffect(()=>{\n    window.scrollTo(0,document.body.scrollHeight);\n  }, [roState.data]);\n  const types =[{value: '', label: 'Все'}, ... useSelector(aoTypesSelector).map(item => {\n    return {value: item.id, label: item.type}\n  })];\n  const cities = [{value: '', label: 'Все'}, ...useSelector(aoCitySelector).map(item => {\n    return {value: item.id, label: item.city}\n  })]\n  const formats =[ {value: '', label: 'Все'}, ... useSelector(aoFormatsSelector).map(item => {\n    return {value: item.id, label: item.format}\n  })]\n  const segments =[ {value: '', label: 'Все'}, ...useSelector(aoSegmentSelector).map(item => {\n    return {value: item.id, label: item.segment}\n  })]\n  const handleInputChange = (event) => {\n    const target = event.target;\n    let value = (target && target.value) || event.value;\n    const name = (target && target.name) || event.name;\n    if (target && typeof target.value === \"boolean\") {\n      value = target.value\n    }\n    let filters = {\n      ...roState.filters,\n      [name]: value\n    }\n    if (value===''){\n      delete filters[name];\n    }\n    setRoState({\n        ...roState,\n        filters\n      }\n    );\n  }\n\n  return (<>\n      <form onSubmit={(e) => {\n        handleRoForm(e);\n      }}>\n        <div className={roCN('list-container')}>\n          <div className={roCN('line')}>\n          <Select onChange={(e) => handleInputChange(e)} label={\"Тип объекта:\"} name=\"mi_type_id\" options={types} value={types[0]}/>\n          <Select onChange={(e) => handleInputChange(e)} label={\"Город:\"} name=\"city_id\" options={cities} value={cities[0]}/>\n          </div>\n          <div className={roCN('line')}>\n          <Select onChange={(e) => handleInputChange(e)} label={\"Статус объекта:\"} name=\"reservation_status\" value={reservedSelect[0]}\n                  options={reservedSelect}/>\n          <Select onChange={(e) => handleInputChange(e)} label={\"Сегмент:\"} name=\"segment_id\" options={segments} value={segments[0]}/>\n          </div>\n          <div className={roCN('line')}>\n          <Select onChange={(e) => handleInputChange(e)} label={\"Формат размещения:\"} name=\"format_id\" value={formats[0]}\n                  options={formats}/>\n          <Select onChange={(e) => handleInputChange(e)} label={\"Договор:\"} name=\"contract\" options={offerSelect} value={offerSelect[0]}/>\n          </div>\n          <div className={roCN('line')}>\n            <Select onChange={(e) => handleInputChange(e)} label={\"Этаж:\"} name=\"floor\" value={floorSelect[0]}\n                    options={floorSelect}/>\n            <Select onChange={(e) => handleInputChange(e)} label={\"Наличие карманов:\"} name=\"pockets\" value={pocketSelect[0]}\n                    options={pocketSelect}/>\n          </div>\n        </div>\n        <Link to={\"/main\"}>\n          {!isKp && <Button variant=\"discard\">Отмена</Button>}\n        </Link>\n        <Button type=\"submit\" variant=\"submit\">Сформировать список</Button>\n      </form>\n      {roState.requested && <AoTable columns={tableAOHeader(handleRoForm)} data={roState.data} checkbox={isKp} changeState={typeof changeState === \"function\" && (e => changeState(e))}></AoTable>}\n\n    </>\n\n  )\n};
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/components/RO-form/RO.js	(revision 18ffbed2280593779866d9eec8488037bcd8ff18)
+++ src/components/RO-form/RO.js	(date 1590189041301)
@@ -4,12 +4,18 @@
 import {Link} from "react-router-dom";
 import {useDispatch, useSelector} from "react-redux";
 import {aoActions} from "../../redux/ao/aoSlice";
-import {aoCitySelector, aoFormatsSelector, aoSegmentSelector, aoTypesSelector} from "../../redux/ao/aoSelectors";
+import {
+  aoCitySelector,
+  aoFormatsSelector,
+  aoSegmentSelector,
+  aoSignificanceSelector,
+  aoTypesSelector
+} from "../../redux/ao/aoSelectors";
 import {Sel as Select} from '../common/Select/Select'
 import {
-  floorSelect,
+  floorSelect, neighborsSelect,
   offerSelect,
-  pocketSelect,
+  pocketSelect, possibilitySelect,
   reservedSelect,
   RoInitialState,
   tableAOHeader
@@ -43,7 +49,7 @@
     dispatch(aoActions.getTypes());
     dispatch(aoActions.getCities());
     dispatch(aoActions.getFormats());
-
+    dispatch(aoActions.getSignificance());
   }, [dispatch]);
   useEffect(()=>{
     window.scrollTo(0,document.body.scrollHeight);
@@ -60,6 +66,9 @@
   const segments =[ {value: '', label: 'Все'}, ...useSelector(aoSegmentSelector).map(item => {
     return {value: item.id, label: item.segment}
   })]
+  const significance =[ {value: '', label: 'Все'}, ...useSelector(aoSignificanceSelector).map(item => {
+    return {value: item.id, label: item.significance}
+  })]
   const handleInputChange = (event) => {
     const target = event.target;
     let value = (target && target.value) || event.value;
@@ -105,6 +114,16 @@
                     options={floorSelect}/>
             <Select onChange={(e) => handleInputChange(e)} label={"Наличие карманов:"} name="pockets" value={pocketSelect[0]}
                     options={pocketSelect}/>
+          </div>
+          <div className={roCN('line')}>
+            <Select onChange={(e) => handleInputChange(e)} label={"Наличие соседей:"} name="neighbors" value={neighborsSelect[0]}
+                    options={neighborsSelect}/>
+            <Select onChange={(e) => handleInputChange(e)} label={"Социальная значимость:"} name="socSign" value={significance[0]}
+                    options={significance}/>
+          </div>
+          <div className={roCN('line')}>
+            <Select onChange={(e) => handleInputChange(e)} label={"Возможность размещения:"} name="placementPossibility" value={possibilitySelect[0]}
+                    options={possibilitySelect}/>
           </div>
         </div>
         <Link to={"/main"}>
Index: package-lock.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- package-lock.json	(revision 18ffbed2280593779866d9eec8488037bcd8ff18)
+++ package-lock.json	(date 1590189041345)
@@ -15123,8 +15123,8 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "delegates": "1.0.0",
-                "readable-stream": "2.3.6"
+                "delegates": "^1.0.0",
+                "readable-stream": "^2.0.6"
               }
             },
             "balanced-match": {
@@ -15171,7 +15171,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "ms": "2.1.2"
+                "ms": "^2.1.1"
               }
             },
             "deep-extend": {
@@ -15194,7 +15194,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "minipass": "2.9.0"
+                "minipass": "^2.6.0"
               }
             },
             "fs.realpath": {
@@ -15207,14 +15207,14 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "aproba": "1.2.0",
-                "console-control-strings": "1.1.0",
-                "has-unicode": "2.0.1",
-                "object-assign": "4.1.1",
-                "signal-exit": "3.0.2",
-                "string-width": "1.0.2",
-                "strip-ansi": "3.0.1",
-                "wide-align": "1.1.3"
+                "aproba": "^1.0.3",
+                "console-control-strings": "^1.0.0",
+                "has-unicode": "^2.0.0",
+                "object-assign": "^4.1.0",
+                "signal-exit": "^3.0.0",
+                "string-width": "^1.0.1",
+                "strip-ansi": "^3.0.1",
+                "wide-align": "^1.1.0"
               }
             },
             "glob": {
@@ -15222,12 +15222,12 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "fs.realpath": "1.0.0",
-                "inflight": "1.0.6",
-                "inherits": "2.0.4",
-                "minimatch": "3.0.4",
-                "once": "1.4.0",
-                "path-is-absolute": "1.0.1"
+                "fs.realpath": "^1.0.0",
+                "inflight": "^1.0.4",
+                "inherits": "2",
+                "minimatch": "^3.0.4",
+                "once": "^1.3.0",
+                "path-is-absolute": "^1.0.0"
               }
             },
             "has-unicode": {
@@ -15240,7 +15240,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "safer-buffer": "2.1.2"
+                "safer-buffer": ">= 2.1.2 < 3"
               }
             },
             "ignore-walk": {
@@ -15248,7 +15248,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "minimatch": "3.0.4"
+                "minimatch": "^3.0.4"
               }
             },
             "inflight": {
@@ -15256,8 +15256,8 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "once": "1.4.0",
-                "wrappy": "1.0.2"
+                "once": "^1.3.0",
+                "wrappy": "1"
               }
             },
             "inherits": {
@@ -15275,7 +15275,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "number-is-nan": "1.0.1"
+                "number-is-nan": "^1.0.0"
               }
             },
             "isarray": {
@@ -15288,7 +15288,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "brace-expansion": "1.1.11"
+                "brace-expansion": "^1.1.7"
               }
             },
             "minimist": {
@@ -15301,8 +15301,8 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "safe-buffer": "5.1.2",
-                "yallist": "3.1.1"
+                "safe-buffer": "^5.1.2",
+                "yallist": "^3.0.0"
               }
             },
             "minizlib": {
@@ -15310,7 +15310,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "minipass": "2.9.0"
+                "minipass": "^2.9.0"
               }
             },
             "mkdirp": {
@@ -15331,9 +15331,9 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "debug": "3.2.6",
-                "iconv-lite": "0.4.24",
-                "sax": "1.2.4"
+                "debug": "^3.2.6",
+                "iconv-lite": "^0.4.4",
+                "sax": "^1.2.4"
               }
             },
             "node-pre-gyp": {
@@ -15341,16 +15341,16 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "detect-libc": "1.0.3",
-                "mkdirp": "0.5.1",
-                "needle": "2.4.0",
-                "nopt": "4.0.1",
-                "npm-packlist": "1.4.7",
-                "npmlog": "4.1.2",
-                "rc": "1.2.8",
-                "rimraf": "2.7.1",
-                "semver": "5.7.1",
-                "tar": "4.4.13"
+                "detect-libc": "^1.0.2",
+                "mkdirp": "^0.5.1",
+                "needle": "^2.2.1",
+                "nopt": "^4.0.1",
+                "npm-packlist": "^1.1.6",
+                "npmlog": "^4.0.2",
+                "rc": "^1.2.7",
+                "rimraf": "^2.6.1",
+                "semver": "^5.3.0",
+                "tar": "^4.4.2"
               }
             },
             "nopt": {
@@ -15358,8 +15358,8 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "abbrev": "1.1.1",
-                "osenv": "0.1.5"
+                "abbrev": "1",
+                "osenv": "^0.1.4"
               }
             },
             "npm-bundled": {
@@ -15367,7 +15367,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "npm-normalize-package-bin": "1.0.1"
+                "npm-normalize-package-bin": "^1.0.1"
               }
             },
             "npm-normalize-package-bin": {
@@ -15380,8 +15380,8 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "ignore-walk": "3.0.3",
-                "npm-bundled": "1.1.1"
+                "ignore-walk": "^3.0.1",
+                "npm-bundled": "^1.0.1"
               }
             },
             "npmlog": {
@@ -15389,10 +15389,10 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "are-we-there-yet": "1.1.5",
-                "console-control-strings": "1.1.0",
-                "gauge": "2.7.4",
-                "set-blocking": "2.0.0"
+                "are-we-there-yet": "~1.1.2",
+                "console-control-strings": "~1.1.0",
+                "gauge": "~2.7.3",
+                "set-blocking": "~2.0.0"
               }
             },
             "number-is-nan": {
@@ -15410,7 +15410,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "wrappy": "1.0.2"
+                "wrappy": "1"
               }
             },
             "os-homedir": {
@@ -15428,8 +15428,8 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "os-homedir": "1.0.2",
-                "os-tmpdir": "1.0.2"
+                "os-homedir": "^1.0.0",
+                "os-tmpdir": "^1.0.0"
               }
             },
             "path-is-absolute": {
@@ -15447,10 +15447,10 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "deep-extend": "0.6.0",
-                "ini": "1.3.5",
-                "minimist": "1.2.0",
-                "strip-json-comments": "2.0.1"
+                "deep-extend": "^0.6.0",
+                "ini": "~1.3.0",
+                "minimist": "^1.2.0",
+                "strip-json-comments": "~2.0.1"
               },
               "dependencies": {
                 "minimist": {
@@ -15465,13 +15465,13 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "core-util-is": "1.0.2",
-                "inherits": "2.0.4",
-                "isarray": "1.0.0",
-                "process-nextick-args": "2.0.1",
-                "safe-buffer": "5.1.2",
-                "string_decoder": "1.1.1",
-                "util-deprecate": "1.0.2"
+                "core-util-is": "~1.0.0",
+                "inherits": "~2.0.3",
+                "isarray": "~1.0.0",
+                "process-nextick-args": "~2.0.0",
+                "safe-buffer": "~5.1.1",
+                "string_decoder": "~1.1.1",
+                "util-deprecate": "~1.0.1"
               }
             },
             "rimraf": {
@@ -15479,7 +15479,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "glob": "7.1.6"
+                "glob": "^7.1.3"
               }
             },
             "safe-buffer": {
@@ -15517,9 +15517,9 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "code-point-at": "1.1.0",
-                "is-fullwidth-code-point": "1.0.0",
-                "strip-ansi": "3.0.1"
+                "code-point-at": "^1.0.0",
+                "is-fullwidth-code-point": "^1.0.0",
+                "strip-ansi": "^3.0.0"
               }
             },
             "string_decoder": {
@@ -15527,7 +15527,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "safe-buffer": "5.1.2"
+                "safe-buffer": "~5.1.0"
               }
             },
             "strip-ansi": {
@@ -15535,7 +15535,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "ansi-regex": "2.1.1"
+                "ansi-regex": "^2.0.0"
               }
             },
             "strip-json-comments": {
@@ -15548,13 +15548,13 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "chownr": "1.1.3",
-                "fs-minipass": "1.2.7",
-                "minipass": "2.9.0",
-                "minizlib": "1.3.3",
-                "mkdirp": "0.5.1",
-                "safe-buffer": "5.1.2",
-                "yallist": "3.1.1"
+                "chownr": "^1.1.1",
+                "fs-minipass": "^1.2.5",
+                "minipass": "^2.8.6",
+                "minizlib": "^1.2.1",
+                "mkdirp": "^0.5.0",
+                "safe-buffer": "^5.1.2",
+                "yallist": "^3.0.3"
               }
             },
             "util-deprecate": {
@@ -15567,7 +15567,7 @@
               "bundled": true,
               "optional": true,
               "requires": {
-                "string-width": "1.0.2"
+                "string-width": "^1.0.2 || 2"
               }
             },
             "wrappy": {
